<template name="createRecipe">
    <a href="/" class="btn">&laquo; Go Back</a>
    <h1>Create Recipe</h1>
    
    <form class="form-horizontal">
        <fieldset>
            <legend>Basic Information</legend>
            
            <div class="control-group">
                <label class="control-label" for="name">Name</label>
                <div class="controls">
                    <input type="text" class="span4" placeholder="e.g. Creamy Chicken Enchiladas" id="name" value="{{name}}"/>
                    <span class="help-block">Make it simple yet descriptive</span>
                </div>
            </div>

            <div class="control-group">
                <label class="control-label" for="description">Description</label>
                <div class="controls">
                    <textarea id="description" rows="3" class="span4" placeholder="No instructions here, just something succulent">{{description}}</textarea>
                    <span class="help-block">Make it simple yet descriptive</span>
                </div>
            </div>

            <div class="control-group">
                <label class="control-label" for="category">Category</label>
                <div class="controls">
                    <input type="text" placeholder="e.g. Yummy Dinners" id="category" value="{{category}}"/>
                    <span class="help-block">Make it simple yet descriptive. Write in your own to create a new category.</span>
                </div>
            </div>

            <div class="control-group">
                <label class="control-label" for="preparationTime">Preparation Time (in minutes)</label>
                <div class="controls">
                    <input type="number" min="1" max="1000" step="1" placeholder="e.g. 30 (min), 90 (min)" id="preparationTime" value="{{preparationTime}}"/>
                    <span class="help-block">Try to enter the time in minutes</span>
                </div>
            </div>

            <div class="control-group">
                <label class="control-label" for="yield">Yield</label>
                <div class="controls">
                    <input type="number" min="1" max="1000" step="1" placeholder="e.g. 1 (serving), 5 (servings)" id="yield" value="{{yield}}"/>
                    <span class="help-block">How many people will this feed?</span>
                </div>
            </div>
        
            <div class="control-group">
                <label class="control-label" for="image">Image</label>
                <div class="controls">
                    <input type="file" accept="image/*" id="image"/>
                    <span class="help-block">A picture is worth a thousand words</span>
                </div>
            </div>
        </fieldset>
        
        <fieldset>
            <legend>Ingredients</legend>
            <span class="help-block">Add as many or as few ingredients as you like</span>
            <table class="table table-striped table-bordered table-hover table-ingredients">
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Quantity</th>
                        <th>Unit</th>
                        <th>Order</th>
                        <th>Remove/Add</th>
                    </tr>
                </thead>
                <tbody>
                    {{#each ingredients}}
                        <tr>
                            <td>
                                <input type="text" class="ingredient-typeahead" placeholder="Just start typing" value="" />
                            </td>
                            <td>
                                <input type="number" min="0" max="1000" step="any" placeholder="How much/many?" value=""/>
                            </td>
                            <td>
                                <select class="span2" name="units">
                                    {{#each units}}
                                        <option value="{{_id}}">{{name}}</option>
                                    {{/each}}
                                </select>
                            </td>
                            <td>
                                <a href="#" class="btn ingredient-up"><i class="icon-arrow-up"></i></a>
                                <a href="#" class="btn ingredient-down"><i class="icon-arrow-down"></i></a>
                            </td>
                            <td>
                                <a href="#" class="btn btn-warning ingredient-remove">-</a>
                                <a href="#" class="btn btn-success ingredient-add">+</a>
                            </td>
                        </tr>
                    {{/each}}
                </tbody>
            </table>
        </fieldset>

        <fieldset>
            <legend>Instructions</legend>
            <span class="help-block">The real <em>meat</em> of the recipe</span>
            <table class="table table-striped table-bordered table-hover table-instructions">
                <thead>
                    <tr>
                        <th>Step #</th>
                        <th>Instructions</th>
                        <th>Ordering</th>
                        <th>Remove/Add</th>
                    </tr>
                </thead>
                <tbody>
                    {{#each steps}}
                        <tr>
                            <td>
                                <span class="rowNumber"><strong>{{number}}</strong></span>
                            </td>
                            <td>
                                <textarea rows="4" class="span8" >{{instructions}}</textarea>
                            </td>
                            <td>
                                <a href="#" class="btn instruction-up"><i class="icon-arrow-up"></i></a>
                                <a href="#" class="btn instruction-down"><i class="icon-arrow-down"></i></a>
                            </td>
                            <td>
                                <a href="#" class="btn btn-warning instruction-remove">-</a>
                                <a href="#" class="btn btn-success instruction-add">+</a>
                            </td>
                        </tr>
                    {{/each}}
                </tbody>
            </table>
            <span class="help-block">Any rows without instructions will be ignored. No worries!</span>

        </fieldset>

        <fieldset>
            <legend>The Finishing Touches...</legend>
            <div class="control-group">
                <label class="control-label" for="tags">Tags</label>
                <div class="controls">
                    <input class="tagManager" type="text" placeholder="curry, chicken, tasty, dinner" id="tags" value=""/>
                    <span class="help-block">Enter a few words separated by commas that describe this dish</span>
                </div>
            </div>
        </fieldset>

        <input type="submit" class="btn btn-large btn-success" value="Create Recipe!"/>
    </form>
</template>